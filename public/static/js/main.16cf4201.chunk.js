(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,a,t){},68:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),r=t(13),c=t.n(r),o=t(3),l=t(40),i=t(6),d=t(16),u=(t(48),"LOGIN_CHECK_START"),j="LOGIN_CHECK_SUCCESS",p="LOGIN_CHECK_FAILURE",m="REGISTER_START",b="REGISTER_SUCCESS",h="REGISTER_FAILURE",g="LOGOUT",O=function(e,a){return{type:p,payload:e,error:a}},f=function(e,a){return{type:h,payload:e,error:a}},x="/auth/login",y="/auth/signup",E="/employee",v="/employee/",N="/employee",S="/employee/",M=t(36),C={setToken:function(e){localStorage.setItem("auth_token",e)},getToken:function(){return localStorage.getItem("auth_token")},clearAll:function(){localStorage.clear()}},L=t.n(M).a.create({baseURL:"http://localhost:3001",headers:{"content-type":"application/json"},timeout:1e4}),_=function(e){return void 0!=e.response&&401===e.response.status&&C.getToken()&&C.removeToken(),Promise.reject(e)};L.interceptors.request.use((function(e){return function(e){return e.headers.Authorization="Bearer ".concat(C.getToken()),e}(e)}),(function(e){return _(e)})),L.interceptors.response.use((function(e){return function(e){return 401===e.status&&C.removeToken(),e}(e)}),(function(e){return _(e)}));var k=L,I=function(e,a,t){return k({method:"GET",url:e,params:a,headers:t})},T=function(e,a,t){return k({method:"POST",url:e,data:a,headers:t})},w=function(e,a,t){return k({method:"PUT",url:e,data:a,headers:t})},D=function(e,a,t){return k({method:"DELETE",url:e+"/"+a,headers:t})},R=function(e){return function(a){a({type:u}),T(x,e).then((function(e){return!e.data.error&&e.data.message&&e.data.data?(C.setToken(e.data.data.token),a((t={response:e.data.data},{type:j,payload:t}))):a(O({response:{},errorMessage:e.data.message}));var t})).catch((function(e){return a(O({response:{},errorMessage:e.reason}))}))}},P=function(e){return function(a){a({type:m}),T(y,e).then((function(e){return!e.data.error&&e.data.message&&e.data.data?a((t={response:e.data.data,message:e.data.message},{type:b,payload:t})):a(f({response:{},errorMessage:e.data.message}));var t})).catch((function(e){return a(f({response:{},errorMessage:e.reason}))}))}},A=t(1),q=Object(d.b)((function(e){return{loading:e.loginReducer.loading,isLoggedIn:e.loginReducer.isLoggedIn,errorMessage:e.loginReducer.errorMessage,loadingSignup:e.loginReducer.loadingSignup,errorMessageSignup:e.loginReducer.errorMessageSignup,successMessageSignup:e.loginReducer.successMessageSignup}}))((function(e){e.isLoggedIn&&e.history.push("/employees");return Object(A.jsx)("div",{className:"container",children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-sm",children:Object(A.jsxs)("form",{className:"form-signin",onSubmit:function(a){a.preventDefault();var t={firstName:a.target.firstName.value,lastName:a.target.lastName.value,email:a.target.email.value,password:a.target.password.value};e.dispatch(P(t))},children:[Object(A.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Signup"}),Object(A.jsx)("label",{for:"signupFirstname",className:"sr-only",children:"First name"}),Object(A.jsx)("input",{type:"text",id:"signupFirstname",name:"firstName",className:"form-control",placeholder:"First name",required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"signupLastName",className:"sr-only",children:"Last name"}),Object(A.jsx)("input",{type:"text",id:"signupLastName",name:"lastName",className:"form-control",placeholder:"Last name",required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"inputEmailSignup",className:"sr-only",children:"Email"}),Object(A.jsx)("input",{type:"email",id:"inputEmailSignup",name:"email",className:"form-control",placeholder:"Email address",required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"inputPasswordSignup",className:"sr-only",children:"Password"}),Object(A.jsx)("input",{type:"password",id:"inputPasswordSignup",name:"password",className:"form-control",placeholder:"Password",required:!0}),Object(A.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",disabled:e.loadingSignup,children:e.loadingSignup?"Loading...":"Signup"}),Object(A.jsx)("span",{className:"text-danger",children:e.errorMessageSignup}),Object(A.jsx)("span",{className:"text-info",children:e.successMessageSignup})]})}),Object(A.jsx)("div",{class:"col-sm",children:Object(A.jsxs)("form",{className:"form-signin",onSubmit:function(a){a.preventDefault();var t={email:a.target.email.value,password:a.target.password.value};e.dispatch(R(t))},children:[Object(A.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Signin instead"}),Object(A.jsx)("label",{for:"inputEmail",className:"sr-only",children:"Email address"}),Object(A.jsx)("input",{type:"email",id:"inputEmail",name:"email",className:"form-control",placeholder:"Email address",required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"inputPassword",className:"sr-only",children:"Password"}),Object(A.jsx)("input",{type:"password",id:"inputPassword",name:"password",className:"form-control",placeholder:"Password",required:!0}),Object(A.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",disabled:e.loading,children:e.loading?"Loading...":"Signin"}),Object(A.jsx)("span",{className:"text-danger",children:e.errorMessage})]})})]})})})),F=t(21),U=t(15),Y=t(75),H=t(76),G=(t(68),"RECEIVE_EMPLOYEE_SUCCESS"),B="RECEIVE_EMPLOYEE_FAILURE",K="DELETE_EMPLOYEE_START",J="DELETE_EMPLOYEE_SUCCESS",V="DELETE_EMPLOYEE_FAILURE",z="ADD_EMPLOYEE_START",Q="ADD_EMPLOYEE_SUCCESS",W="ADD_EMPLOYEE_FAILURE",X="EDIT_EMPLOYEE_START",Z="EDIT_EMPLOYEE_SUCCESS",$="EDIT_EMPLOYEE_FAILURE",ee=function(e){return{type:V,errorMessage:e}},ae=function(e){return{type:W,errorMessage:e}},te=function(e){return{type:$,errorMessage:e}},se=function(e){return function(a){I(E,e).then((function(e){if(!e.data.error&&e.data.message&&e.data.data)return a((t={response:e.data.data},{type:G,payload:t}));var t})).catch((function(e){return a({type:B})}))}},ne=function(e){return function(a){a({type:K}),D(v,e.id).then((function(e){return!e.data.error&&e.data.message?a((t=e.data.message,{type:J,successMessage:t})):a(ee(e.data.message));var t})).catch((function(e){return a(ee(e.reason))}))}},re=function(e){return function(a){a({type:z}),T(N,e).then((function(e){return!e.data.error&&e.data.message?a((t=e.data.message,{type:Q,successMessage:t})):a(ae(e.data.message));var t})).catch((function(e){return a(ae(e.reason))}))}},ce=function(e){return function(a){a({type:X}),w(S+e.id,e).then((function(e){return!e.data.error&&e.data.message?a((t=e.data.message,{type:Z,successMessage:t})):a(te(e.data.message));var t})).catch((function(e){return a(te(e.reason))}))}};var oe=Object(d.b)((function(e){return{data:e.employeeReducer.response,successMessage:e.employeeReducer.successMessage,errorMessage:e.employeeReducer.errorMessage,loading:e.employeeReducer.loading}}))((function(e){var a=Object(s.useState)(!1),t=Object(U.a)(a,2),r=t[0],c=t[1],l=Object(s.useState)(!1),i=Object(U.a)(l,2),d=i[0],u=i[1],j=Object(s.useState)(!1),p=Object(U.a)(j,2),m=p[0],b=p[1],h=Object(s.useState)(!1),O=Object(U.a)(h,2),f=O[0],x=O[1],y=Object(s.useState)({}),E=Object(U.a)(y,2),v=E[0],N=E[1],S=Object(s.useState)({}),M=Object(U.a)(S,2),L=M[0],_=M[1],k=function(e){var a=e.target,t=a.name,s=a.value;_((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(F.a)({},t,s))}))},I=function(e){e.preventDefault(),c(!1)},T=function(e){e.preventDefault(),u(!1)},w=function(e){e.preventDefault(),b(!1)},D=function(e){e.preventDefault(),x(!1)};return Object(s.useEffect)((function(){e.dispatch(se())}),[e.loading]),Object(A.jsxs)(n.a.Fragment,{children:[Object(A.jsxs)("nav",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0",children:[Object(A.jsx)("input",{className:"form-control form-control-dark w-100",type:"text",placeholder:"Search","aria-label":"Search",onChange:function(a){a.preventDefault(),e.dispatch(se({query:a.target.value}))}}),Object(A.jsx)("ul",{className:"navbar-nav px-3",children:Object(A.jsx)("li",{className:"nav-item text-nowrap",children:Object(A.jsx)("a",{className:"nav-link",href:"#logout",onClick:function(e){e.preventDefault(),c(!0)},children:"Sign out"})})})]}),Object(A.jsx)("div",{className:"container-fluid",children:Object(A.jsx)("div",{className:"row",children:Object(A.jsxs)("main",{role:"main",className:"col-md-8 ml-sm-auto col-lg-12 pt-3 px-4",children:[Object(A.jsxs)("div",{className:"col-md-12 text-right",children:[Object(A.jsx)("span",{className:"alert alert-danger",hidden:!e.errorMessage,children:e.errorMessage}),Object(A.jsx)("span",{className:"alert alert-success",hidden:!e.successMessage,children:e.successMessage})]}),Object(A.jsx)("h1",{className:"h2",children:"Employees"}),Object(A.jsx)("div",{className:"col-md-12 text-right",children:Object(A.jsx)("button",{type:"button",className:"btn btn-primary pull-right",onClick:function(e){e.preventDefault(),b(!0)},children:"Add new"})}),Object(A.jsx)("br",{}),Object(A.jsx)("div",{className:"table-responsive",children:Object(A.jsxs)("table",{className:"table table-striped table-sm",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Employee ID"}),Object(A.jsx)("th",{children:"Name"}),Object(A.jsx)("th",{children:"Email"}),Object(A.jsx)("th",{children:"Phone"}),Object(A.jsx)("th",{children:"Address"}),Object(A.jsx)("th",{})]})}),Object(A.jsxs)("tbody",{children:[e.data.employees.map((function(e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e.employee_id}),Object(A.jsx)("td",{children:e.name}),Object(A.jsx)("td",{children:e.email}),Object(A.jsx)("td",{children:e.phone_code+e.phone}),Object(A.jsx)("td",{children:e.address}),Object(A.jsxs)("td",{children:[Object(A.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(a){return function(e,a){e.preventDefault(),_(a),x(!0)}(a,e)},children:"Edit"}),"\xa0",Object(A.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(a){return function(e,a){e.preventDefault(),N(a),u(!0)}(a,e)},children:"Delete"})]})]},e.id)})),Object(A.jsx)("p",{hidden:e.data.employees.length>0,children:"No records found"})]})]})})]})})}),Object(A.jsxs)(Y.a,{show:r,onHide:I,backdrop:"static",keyboard:!1,children:[Object(A.jsx)(Y.a.Header,{children:Object(A.jsx)(Y.a.Title,{children:"Sign out ?"})}),Object(A.jsx)(Y.a.Body,{children:"Are you sure, Do you want to proceed ?"}),Object(A.jsxs)(Y.a.Footer,{children:[Object(A.jsx)(H.a,{variant:"secondary",onClick:I,children:"No"}),Object(A.jsx)(H.a,{variant:"danger",onClick:function(a){a.preventDefault(),C.clearAll(),e.dispatch({type:g}),e.history.push("/")},children:"Yes"})]})]}),Object(A.jsxs)(Y.a,{show:d,onHide:T,backdrop:"static",keyboard:!1,children:[Object(A.jsx)(Y.a.Header,{children:Object(A.jsx)(Y.a.Title,{children:"Delete ?"})}),Object(A.jsxs)(Y.a.Body,{children:["Are you sure, Do you want to delete ",v.name,"(",v.employee_id,") ?"]}),Object(A.jsxs)(Y.a.Footer,{children:[Object(A.jsx)(H.a,{variant:"secondary",onClick:T,children:"No"}),Object(A.jsx)(H.a,{variant:"danger",onClick:function(a){a.preventDefault(),e.dispatch(ne(v)),u(!1)},disabled:e.loading,children:e.loading?"Loading...":"Yes"})]})]}),Object(A.jsx)(Y.a,{show:m,onHide:w,backdrop:"static",keyboard:!1,children:Object(A.jsxs)("form",{onSubmit:function(a){a.preventDefault();var t={employeeId:a.target.employeeId.value,name:a.target.name.value,email:a.target.email.value,phoneCode:a.target.phoneCode.value,phone:a.target.phone.value,address:a.target.address.value};e.dispatch(re(t)),b(!1)},children:[Object(A.jsx)(Y.a.Header,{children:Object(A.jsx)(Y.a.Title,{children:"Add new employee"})}),Object(A.jsxs)(Y.a.Body,{children:[Object(A.jsx)("label",{for:"employeeId",className:"sr-only",children:"Employee ID"}),Object(A.jsx)("input",{type:"text",id:"employeeId",name:"employeeId",className:"form-control",placeholder:"Employee ID",required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"name",className:"sr-only",children:"Name"}),Object(A.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",placeholder:"Name",required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"email",className:"sr-only",children:"Email"}),Object(A.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Email",required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"phoneCode",className:"sr-only",children:"Phone"}),Object(A.jsxs)("select",{className:"form-control",id:"phoneCode",name:"phoneCode",required:!0,autofocus:!0,children:[Object(A.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Phone code"}),Object(A.jsx)("option",{value:"+91",children:"+91"})]}),Object(A.jsx)("input",{type:"text",id:"phone",name:"phone",className:"form-control",placeholder:"Phone",pattern:"\\d*",maxLength:"10",required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"address",className:"sr-only",children:"Address"}),Object(A.jsx)("textarea",{className:"form-control",name:"address",rows:"5",id:"address",placeholder:"Address",required:!0,autofocus:!0})]}),Object(A.jsxs)(Y.a.Footer,{children:[Object(A.jsx)(H.a,{variant:"secondary",onClick:w,children:"Cancel"}),Object(A.jsx)(H.a,{variant:"primary",type:"submit",disabled:e.loading,children:e.loading?"Loading...":"Add"})]})]})}),Object(A.jsx)(Y.a,{show:f,onHide:D,backdrop:"static",keyboard:!1,children:Object(A.jsxs)("form",{onSubmit:function(a){a.preventDefault(),e.dispatch(ce(L)),x(!1)},children:[Object(A.jsx)(Y.a.Header,{children:Object(A.jsx)(Y.a.Title,{children:"Edit employee"})}),Object(A.jsxs)(Y.a.Body,{children:[Object(A.jsx)("label",{for:"employeeId",className:"sr-only",children:"Employee ID"}),Object(A.jsx)("input",{type:"text",id:"employeeId",name:"employee_id",className:"form-control",value:L.employee_id,disabled:!0}),Object(A.jsx)("label",{for:"name",className:"sr-only",children:"Name"}),Object(A.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",value:L.name,onChange:k,required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"email",className:"sr-only",children:"Email"}),Object(A.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",value:L.email,onChange:k,required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"phoneCode",className:"sr-only",children:"Phone"}),Object(A.jsxs)("select",{className:"form-control",id:"phoneCode",name:"phone_code",value:L.phone_code,onChange:k,required:!0,autofocus:!0,children:[Object(A.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Phone code"}),Object(A.jsx)("option",{value:"+91",children:"+91"}),Object(A.jsx)("option",{value:"+1",children:"+1"})]}),Object(A.jsx)("input",{type:"text",id:"phone",name:"phone",className:"form-control",value:L.phone,onChange:k,pattern:"\\d*",maxLength:"10",required:!0,autofocus:!0}),Object(A.jsx)("label",{for:"address",className:"sr-only",children:"Address"}),Object(A.jsx)("textarea",{className:"form-control",name:"address",rows:"5",id:"address",value:L.address,onChange:k,required:!0,autofocus:!0})]}),Object(A.jsxs)(Y.a.Footer,{children:[Object(A.jsx)(H.a,{variant:"secondary",onClick:D,children:"Cancel"}),Object(A.jsx)(H.a,{variant:"primary",type:"submit",disabled:e.loading,children:e.loading?"Loading...":"Update"})]})]})})]})})),le=["component"],ie=function(e){var a=e.component,t=Object(l.a)(e,le);return Object(A.jsx)(i.b,Object(o.a)(Object(o.a)({},t),{},{render:function(e){return C.getToken()?Object(A.jsx)(a,Object(o.a)({},e)):Object(A.jsx)(i.a,{to:"/"})}}))},de=function(){return Object(A.jsxs)(i.d,{children:[Object(A.jsx)(i.b,{exact:!0,path:"/",render:function(e){return C.getToken()?Object(A.jsx)(i.a,{to:"/employees"}):Object(A.jsx)(q,Object(o.a)({},e))}}),Object(A.jsx)(ie,{exact:!0,path:"/employees",component:oe})]})},ue=function(e){return Object(A.jsx)(de,{})},je=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,77)).then((function(a){var t=a.getCLS,s=a.getFID,n=a.getFCP,r=a.getLCP,c=a.getTTFB;t(e),s(e),n(e),r(e),c(e)}))},pe=t(26),me=t(23),be=t(39),he={},ge={response:{employees:[],query:{}}},Oe={loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u:return Object(o.a)(Object(o.a)({},e),{},{response:{},isLoggedIn:!1,loading:!0,errorMessage:""});case j:return Object(o.a)(Object(o.a)({},e),{},{response:a.payload.response,isLoggedIn:!0,loading:!1,errorMessage:""});case p:return Object(o.a)(Object(o.a)({},e),{},{response:{},isLoggedIn:!1,loading:!1,errorMessage:a.payload.errorMessage});case m:return Object(o.a)(Object(o.a)({},e),{},{responseSignup:{},loadingSignup:!0,errorMessageSignup:"",successMessageSignup:""});case b:return Object(o.a)(Object(o.a)({},e),{},{responseSignup:a.payload.response,loadingSignup:!1,errorMessageSignup:"",successMessageSignup:a.payload.message});case h:return Object(o.a)(Object(o.a)({},e),{},{responseSignup:{},loadingSignup:!1,errorMessageSignup:a.payload.errorMessage,successMessageSignup:""});case g:return Object(o.a)(Object(o.a)({},e),{},{response:{},isLoggedIn:!1,loading:!1,errorMessage:""})}return e},employeeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case G:return Object(o.a)(Object(o.a)({},e),{},{response:a.payload.response});case B:return Object(o.a)(Object(o.a)({},e),{},{response:{employees:[],query:{}}});case K:case z:case X:return Object(o.a)(Object(o.a)({},e),{},{loading:!0,successMessage:"",errorMessage:""});case J:case Q:case Z:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,successMessage:a.successMessage,errorMessage:""});case V:case W:case $:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,successMessage:"",errorMessage:a.errorMessage})}return e}};var fe=Object(me.c)(Object(me.b)(Object(o.a)({},Oe)),Object(me.a)(be.a));c.a.render(Object(A.jsx)(d.a,{store:fe,children:Object(A.jsx)(pe.a,{children:Object(A.jsx)(ue,{})})}),document.getElementById("root")),je()}},[[72,1,2]]]);
//# sourceMappingURL=main.16cf4201.chunk.js.map